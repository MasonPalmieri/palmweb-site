<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Client Portal Lite — PalmWeb Tool Demo</title>
  <meta name="description" content="A working portal-style demo: login gate, documents list, approvals, and print-ready receipt." />
  <meta name="theme-color" content="#ffffff" />

  <style>
    :root{
      --bg:#ffffff;
      --text:#0b1220;
      --muted:#556173;
      --hair: rgba(15,23,42,.10);
      --panel:#ffffff;

      --blue:#1d79c6;
      --green:#2cab4b;
      --ink:#0b1220;

      --shadow: 0 18px 55px rgba(15,23,42,.10);
      --shadow2: 0 10px 30px rgba(15,23,42,.08);
      --radius: 22px;

      --max: 1100px;
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);line-height:1.55}
    a{color:inherit}
    .container{max-width:var(--max);margin:0 auto;padding:0 18px}

    header{
      position:sticky;top:0;z-index:50;
      background:rgba(255,255,255,.86);
      backdrop-filter: blur(14px);
      border-bottom:1px solid var(--hair);
    }
    .nav{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:14px 0;
    }
    .brand{display:flex;align-items:center;gap:10px;text-decoration:none;font-weight:950}
    .badge{
      font-weight:950;font-size:12px;
      background: rgba(44,171,75,.10);
      border:1px solid rgba(44,171,75,.18);
      padding:6px 10px;border-radius:999px;
      color: rgba(11,18,32,.86);
    }

    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:10px 14px;border-radius:999px;border:1px solid transparent;
      text-decoration:none;font-weight:950;cursor:pointer;user-select:none;white-space:nowrap;
      transition:transform .08s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .btn:active{transform:translateY(1px)}
    .btn-primary{
      color:#fff;background:linear-gradient(135deg,var(--blue),var(--green));
      box-shadow:0 18px 44px rgba(29,121,198,.20);
    }
    .btn-outline{background:#fff;border:1px solid var(--hair);color:rgba(11,18,32,.92)}
    .btn-outline:hover{background:rgba(15,23,42,.02);border-color:rgba(15,23,42,.14)}
    .btn-ink{background:var(--ink);color:#fff;box-shadow:0 18px 44px rgba(11,18,32,.16)}

    main{padding:26px 0 50px}
    .kicker{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      border:1px solid var(--hair);
      background:rgba(15,23,42,.02);
      font-size:12px;font-weight:900;color:rgba(11,18,32,.86);
    }
    .dot{width:8px;height:8px;border-radius:999px;background:linear-gradient(135deg,var(--blue),var(--green))}
    h1{margin:12px 0 8px;font-size:clamp(30px,3.6vw,46px);letter-spacing:-.8px;line-height:1.05}
    .sub{margin:0;color:rgba(11,18,32,.68);font-weight:750;max-width:78ch}

    .layout{
      display:grid;
      grid-template-columns: .95fr 1.05fr;
      gap: 14px;
      margin-top: 16px;
      align-items:start;
    }

    .card{
      background:var(--panel);
      border:1px solid rgba(15,23,42,.10);
      border-radius:var(--radius);
      box-shadow:var(--shadow2);
      padding:16px;
      position:relative;
      overflow:hidden;
    }
    .card:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(360px 220px at 15% 10%, rgba(29,121,198,.12), transparent 70%),
        radial-gradient(360px 220px at 95% 0%, rgba(44,171,75,.10), transparent 70%);
      pointer-events:none;
    }
    .card > *{position:relative}

    .section-title{
      display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:10px;
    }
    .section-title h2{margin:0;font-size:15px;font-weight:950}
    .mini{font-size:12px;color:rgba(11,18,32,.55);font-weight:850}

    label{display:flex;flex-direction:column;gap:6px;font-weight:900;font-size:13px}
    input{
      padding:12px;border-radius:14px;border:1px solid rgba(15,23,42,.12);
      font-size:14px;background:#fff;outline:none;font-weight:750;color:rgba(11,18,32,.92);
    }
    input:focus{
      border-color: rgba(29,121,198,.55);
      box-shadow: 0 0 0 4px rgba(29,121,198,.10);
    }

    .alert{
      margin-top:10px;
      padding:10px 12px;border-radius:16px;
      border:1px solid rgba(220,38,38,.18);
      background: rgba(220,38,38,.08);
      color: rgba(127,29,29,.92);
      font-weight:850;
      display:none;
    }

    .doc{
      display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
      padding:12px 0;
      border-top:1px solid rgba(15,23,42,.10);
    }
    .doc:first-of-type{border-top:0;padding-top:0}
    .doc strong{font-weight:950}
    .doc span{display:block;color:rgba(11,18,32,.66);font-weight:750;font-size:13px;margin-top:4px}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      border:1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.75);
      padding:7px 10px;border-radius:999px;
      font-weight:900;font-size:12px;color:rgba(11,18,32,.86);
      white-space:nowrap;
    }

    .checklist{
      margin-top:10px;
      padding:12px;border-radius:18px;
      background: rgba(15,23,42,.03);
      border: 1px solid rgba(15,23,42,.10);
      display:flex;flex-direction:column;gap:10px;
    }
    .check{
      display:flex;align-items:flex-start;gap:10px;
      padding:10px;border-radius:14px;background:#fff;border:1px solid rgba(15,23,42,.10);
      font-weight:850;
    }
    .check input{accent-color: var(--blue); margin-top:2px}
    .check small{display:block;color:rgba(11,18,32,.62);font-weight:750;margin-top:3px}

    .receipt{
      border:1px dashed rgba(15,23,42,.22);
      border-radius:18px;
      padding:12px;
      background: rgba(255,255,255,.70);
      margin-top:12px;
      font-weight:750;
      color: rgba(11,18,32,.78);
      white-space:pre-wrap;
    }

    /* Print */
    @media print{
      header,.no-print{display:none !important}
      body{background:#fff}
      main{padding:0}
      .layout{grid-template-columns:1fr}
      .card{box-shadow:none}
      .card:before{display:none}
    }
    @media (max-width: 980px){
      .layout{grid-template-columns:1fr}
    }
  </style>
</head>

<body>
  <header>
    <div class="container nav">
      <a class="brand" href="../index.html" aria-label="Back to PalmWeb">
        ← PalmWeb <span class="badge">Working Tool Example</span>
      </a>
      <div class="no-print" style="display:flex;gap:10px;flex-wrap:wrap;">
        <a class="btn btn-outline" href="../index.html">Back</a>
        <button class="btn btn-primary" type="button" id="printBtn">Print</button>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <div class="kicker"><span class="dot"></span> Client Portal (Demo)</div>
      <h1>Client Portal Lite</h1>
      <p class="sub">
        A working “portal-style” tool you can host on GitHub Pages: login gate (demo), documents list, approvals, and a printable receipt.
      </p>

      <div class="layout">
        <!-- LOGIN / ACCESS -->
        <section class="card">
          <div class="section-title">
            <h2>Access</h2>
            <span class="mini">Demo login (front-end only)</span>
          </div>

          <div id="loginView">
            <label>Client email
              <input id="loginEmail" type="email" placeholder="client@company.com" />
            </label>

            <label style="margin-top:10px;">Access code
              <input id="loginCode" type="password" placeholder="Try: demo" />
            </label>

            <div class="alert" id="loginAlert">Invalid access. Try code: <strong>demo</strong></div>

            <div class="no-print" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;">
              <button class="btn btn-primary" type="button" id="loginBtn">Enter portal</button>
              <button class="btn btn-outline" type="button" id="fillDemoBtn">Fill demo</button>
            </div>

            <p class="mini" style="margin-top:10px;">
              Note: This is a front-end demo gate. A real portal would validate via server/session.
            </p>
          </div>

          <div id="portalView" style="display:none;">
            <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;">
              <div>
                <div style="font-weight:950;">Welcome</div>
                <div class="mini" id="whoLine">—</div>
              </div>
              <button class="btn btn-outline no-print" type="button" id="logoutBtn">Log out</button>
            </div>

            <div style="margin-top:12px;">
              <div class="pill" id="statusPill">Status: Awaiting approvals</div>
            </div>

            <div style="margin-top:14px;font-weight:950;">Documents</div>

            <div class="doc">
              <div>
                <strong>Project Scope</strong>
                <span>Overview of deliverables and timeline.</span>
              </div>
              <span class="pill">PDF</span>
            </div>

            <div class="doc">
              <div>
                <strong>Service Agreement</strong>
                <span>Terms, payment schedule, and responsibilities.</span>
              </div>
              <span class="pill">PDF</span>
            </div>

            <div class="doc">
              <div>
                <strong>Invoice</strong>
                <span>Deposit / milestone invoice (generated separately).</span>
              </div>
              <span class="pill">Link</span>
            </div>

            <div class="no-print" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;">
              <button class="btn btn-primary" type="button" id="genReceiptBtn">Generate approval receipt</button>
              <button class="btn btn-ink" type="button" id="printBtn2">Print receipt</button>
            </div>
          </div>
        </section>

        <!-- APPROVALS + RECEIPT -->
        <aside class="card">
          <div class="section-title">
            <h2>Approvals</h2>
            <span class="mini">Checklist → receipt</span>
          </div>

          <div class="checklist" aria-label="Approvals checklist">
            <label class="check">
              <input type="checkbox" class="appr" id="a1" />
              <div>
                Approve project scope
                <small>Confirm the pages/features and timeline.</small>
              </div>
            </label>

            <label class="check">
              <input type="checkbox" class="appr" id="a2" />
              <div>
                Accept service agreement
                <small>Agree to terms and payment schedule.</small>
              </div>
            </label>

            <label class="check">
              <input type="checkbox" class="appr" id="a3" />
              <div>
                Confirm primary contact
                <small>Who should we message for approvals and updates?</small>
              </div>
            </label>
          </div>

          <div class="receipt" id="receiptBox">
Approval Receipt
Generate a receipt after checking approvals.
          </div>

          <p class="mini" style="margin-top:12px;">
            Demo note: approvals can write to a database, email, or e-sign service later.
          </p>
        </aside>
      </div>
    </div>
  </main>

  <script>
    const $ = (id) => document.getElementById(id);

    const loginView = $("loginView");
    const portalView = $("portalView");

    const loginEmail = $("loginEmail");
    const loginCode = $("loginCode");
    const loginAlert = $("loginAlert");

    const whoLine = $("whoLine");
    const statusPill = $("statusPill");

    const receiptBox = $("receiptBox");

    const loginBtn = $("loginBtn");
    const fillDemoBtn = $("fillDemoBtn");
    const logoutBtn = $("logoutBtn");

    const genReceiptBtn = $("genReceiptBtn");
    const printBtn = $("printBtn");
    const printBtn2 = $("printBtn2");

    const DEMO_CODE = "demo";

    function setLoggedIn(email){
      loginView.style.display = "none";
      portalView.style.display = "";
      whoLine.textContent = email ? `Signed in as ${email}` : `Signed in`;
      updateStatus();
    }

    function setLoggedOut(){
      loginView.style.display = "";
      portalView.style.display = "none";
      loginAlert.style.display = "none";
      receiptBox.textContent = "Approval Receipt\nGenerate a receipt after checking approvals.";
      document.querySelectorAll(".appr").forEach(x => x.checked = false);
      updateStatus();
    }

    function updateStatus(){
      const checked = Array.from(document.querySelectorAll(".appr:checked")).length;
      if(portalView.style.display === "none"){
        statusPill.textContent = "Status: Locked";
        return;
      }
      if(checked === 3){
        statusPill.textContent = "Status: Approved ✅";
      }else if(checked > 0){
        statusPill.textContent = "Status: In progress";
      }else{
        statusPill.textContent = "Status: Awaiting approvals";
      }
    }

    function generateReceipt(){
      const email = loginEmail.value.trim() || "client@company.com";
      const stamp = new Date().toLocaleString();

      const items = [
        { id:"a1", label:"Approve project scope" },
        { id:"a2", label:"Accept service agreement" },
        { id:"a3", label:"Confirm primary contact" }
      ].map(x => {
        const ok = $(x.id).checked;
        return `- ${ok ? "✅" : "⬜"} ${x.label}`;
      });

      const checked = Array.from(document.querySelectorAll(".appr:checked")).length;

      receiptBox.textContent =
`Approval Receipt
Generated: ${stamp}
Client: ${email}

Approvals:
${items.join("\n")}

Portal status: ${checked === 3 ? "Approved" : checked > 0 ? "In progress" : "Awaiting approvals"}

Demo note: In production, this receipt can be emailed, stored, and/or e-signed.`;
      updateStatus();
    }

    loginBtn.addEventListener("click", () => {
      const email = loginEmail.value.trim();
      const code = (loginCode.value || "").trim();
      if(code.toLowerCase() !== DEMO_CODE){
        loginAlert.style.display = "block";
        loginCode.focus();
        return;
      }
      loginAlert.style.display = "none";
      setLoggedIn(email || "client@company.com");
    });

    fillDemoBtn.addEventListener("click", () => {
      loginEmail.value = "client@company.com";
      loginCode.value = "demo";
      loginAlert.style.display = "none";
    });

    logoutBtn.addEventListener("click", setLoggedOut);

    document.querySelectorAll(".appr").forEach(x => x.addEventListener("change", updateStatus));

    genReceiptBtn.addEventListener("click", generateReceipt);

    printBtn.addEventListener("click", () => window.print());
    printBtn2.addEventListener("click", () => window.print());

    // Start locked
    setLoggedOut();
  </script>
</body>
</html>
