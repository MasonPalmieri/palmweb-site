<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PalmWeb ‚Äî Websites & Automation for Local Businesses</title>
  <meta name="description" content="PalmWeb builds websites and automation solutions for locally owned businesses." />
  <meta name="theme-color" content="#ffffff" />

  <style>
    :root{
      /* PalmWeb-inspired palette */
      --blue: #1d79c6;
      --blueSoft:#eaf5ff;
      --green:#2cab4b;
      --greenSoft:#eafaf0;

      --bg:#ffffff;
      --panel:#ffffff;
      --panel2:#f7fbff;
      --border:#e5e7eb;

      --text:#0f172a;
      --muted:#475569;

      --shadow: 0 14px 34px rgba(15,23,42,.10);
      --radius: 18px;
      --max: 1120px;
    }

    *{ box-sizing:border-box; }
    html,body{
      margin:0;
      padding:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: var(--bg);
      color: var(--text);
      line-height: 1.55;
    }
    a{ color: inherit; }
    img{ max-width:100%; display:block; }

    .container{
      max-width: var(--max);
      margin: 0 auto;
      padding: 0 18px;
    }

    /* HEADER */
    header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }

    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 18px;
      padding: 14px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      text-decoration:none;
      min-width: 0;
    }

    .brand img{
      width: 42px;
      height: 42px;
      object-fit: contain;
      border-radius: 12px;
      flex: 0 0 auto;
    }

    .brand-title{
      display:flex;
      flex-direction:column;
      gap: 2px;
      min-width:0;
    }
    .brand-title strong{
      font-size: 14px;
      letter-spacing: .2px;
      font-weight: 950;
    }
    .brand-title span{
      font-size: 12px;
      color: var(--muted);
      font-weight: 750;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 520px;
    }

    nav{
      display:flex;
      align-items:center;
      gap: 18px;
    }
    nav a{
      text-decoration:none;
      color: var(--muted);
      font-weight: 850;
      font-size: 14px;
    }
    nav a:hover{
      color: var(--text);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      text-decoration:none;
      font-weight: 950;
      cursor:pointer;
      transition: transform .06s ease, box-shadow .2s ease;
      user-select: none;
    }
    .btn:active{ transform: translateY(1px); }

    .btn-primary{
      color:#fff;
      background: linear-gradient(135deg, var(--blue), var(--green));
      box-shadow: 0 12px 26px rgba(29,121,198,.22);
    }
    .btn-primary:hover{
      box-shadow: 0 16px 34px rgba(29,121,198,.28);
    }

    .btn-outline{
      background: #fff;
      border: 1px solid var(--border);
      color: var(--text);
    }
    .btn-outline:hover{
      background: #f8fafc;
    }

    /* HERO */
    .hero{
      padding: 52px 0 28px;
      background:
        radial-gradient(900px 420px at 15% -10%, rgba(29,121,198,.20), transparent 60%),
        radial-gradient(900px 420px at 90% 0%, rgba(44,171,75,.16), transparent 60%),
        linear-gradient(180deg, var(--panel2), #fff 60%);
      border-bottom: 1px solid var(--border);
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 16px;
      align-items:start;
    }

    .hero h1{
      margin: 0 0 12px;
      font-size: clamp(30px, 4vw, 46px);
      line-height: 1.05;
      letter-spacing: -0.8px;
    }

    .hero p{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 16px;
      max-width: 62ch;
    }

    .hero-actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .hero-card{
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(229,231,235,.85);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .quick h3{
      margin: 0 0 6px;
      font-size: 16px;
      font-weight: 950;
    }
    .quick p{
      margin: 0 0 12px;
      color: var(--muted);
      font-size: 14px;
    }

    .quick-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 14px;
      background: #fff;
      margin-top: 10px;
      font-size: 14px;
    }
    .quick-row span:first-child{
      color: #64748b;
      font-weight: 850;
    }
    .quick-row a{
      font-weight: 950;
      text-decoration:none;
      color: var(--text);
    }
    .quick-row a:hover{
      text-decoration: underline;
      text-underline-offset: 4px;
    }

    /* SECTION */
    section{
      padding: 38px 0;
    }
    .section-head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 12px;
      margin-bottom: 16px;
    }
    .section-head h2{
      margin:0;
      font-size: 24px;
      letter-spacing: -0.2px;
    }
    .section-head p{
      margin:0;
      color: var(--muted);
      max-width: 64ch;
    }

    /* SERVICE CARDS */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      margin-top: 14px;
    }

    .service{
      background: #fff;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      min-height: 170px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      position: relative;
      overflow:hidden;
    }

    .service::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(280px 140px at 15% 20%, rgba(29,121,198,.14), transparent 70%),
        radial-gradient(260px 140px at 80% 10%, rgba(44,171,75,.14), transparent 70%);
      pointer-events:none;
    }
    .service > *{ position: relative; }

    .icon{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(135deg, rgba(29,121,198,.14), rgba(44,171,75,.14));
      border: 1px solid rgba(29,121,198,.18);
      font-size: 20px;
    }

    .service h3{
      margin: 0;
      font-size: 16px;
      font-weight: 950;
    }

    .service p{
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    /* PORTFOLIO */
    .portfolio{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
      margin-top: 14px;
    }

    .work{
      background:#fff;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .tag{
      display:inline-flex;
      padding: 7px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 950;
      border: 1px solid rgba(29,121,198,.20);
      background: rgba(29,121,198,.08);
      width: fit-content;
      color:#0b3a5f;
      margin-bottom: 10px;
    }

    .work-title{
      font-weight: 950;
      font-size: 16px;
      margin: 0 0 8px;
    }

    .work-desc{
      margin: 0 0 14px;
      color: var(--muted);
      font-size: 14px;
    }

    /* CONTACT */
    .contact-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 14px;
    }

    .box{
      background:#fff;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .box h3{
      margin: 0 0 10px;
      font-size: 16px;
      font-weight: 950;
    }

    .line{
      margin-top: 10px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      color: var(--muted);
      font-weight: 750;
    }
    .line a{
      color: var(--text);
      font-weight: 950;
      text-decoration:none;
    }
    .line a:hover{
      text-decoration: underline;
      text-underline-offset: 4px;
    }

    /* FOOTER */
    footer{
      border-top: 1px solid var(--border);
      background:#fff;
      padding: 18px 0;
      color:#64748b;
      font-size: 12px;
      text-align:center;
    }

    .footer-inner{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      flex-wrap:wrap;
    }

    .footer-logo{
      width: 18px;
      height: 18px;
      object-fit: contain;
      border-radius: 6px;
      opacity:.9;
    }

    /* ===== Inquiry Modal (mailto only) ===== */
    .modal{
      position: fixed;
      inset: 0;
      display: none;
      z-index: 9999;
    }
    .modal.show{ display:block; }

    .modal-overlay{
      position:absolute;
      inset:0;
      background: rgba(15, 23, 42, 0.35);
      backdrop-filter: blur(6px);
    }

    .modal-card{
      position: relative;
      width: min(860px, calc(100% - 32px));
      margin: 6vh auto;
      background: #ffffff;
      border-radius: 22px;
      border: 1px solid rgba(29,121,198,0.18);
      box-shadow: 0 30px 90px rgba(0,0,0,.22);
      padding: 18px;
    }

    .modal-head{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 14px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(15, 23, 42, 0.08);
    }

    .modal-head h2{
      margin:0;
      font-size: 20px;
      letter-spacing: -0.2px;
    }

    .modal-x{
      border: none;
      background: rgba(15, 23, 42, 0.06);
      border-radius: 12px;
      padding: 10px 12px;
      cursor: pointer;
      font-weight: 900;
    }
    .modal-x:hover{ background: rgba(15, 23, 42, 0.10); }

    .form-grid{
      margin-top: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .form-row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .form-grid label{
      display:flex;
      flex-direction:column;
      gap: 6px;
      font-weight: 800;
      font-size: 13px;
      color: #0f172a;
    }

    .form-grid input,
    .form-grid select,
    .form-grid textarea{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(15, 23, 42, 0.12);
      background: #fff;
      color: #0f172a;
      outline:none;
      font-weight: 650;
    }

    .form-grid input:focus,
    .form-grid select:focus,
    .form-grid textarea:focus{
      border-color: rgba(29,121,198,.55);
      box-shadow: 0 0 0 4px rgba(29,121,198,0.12);
    }

    textarea{ resize: vertical; }

    .field-error{
      min-height: 14px;
      font-size: 12px;
      color: #b91c1c;
      font-weight: 800;
    }

    .textarea-meta{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      align-items:center;
      margin-top: -2px;
    }

    .char-count{
      font-size: 12px;
      color: #64748b;
      font-weight: 800;
    }

    /* honeypot */
    #company_site{
      position:absolute;
      left:-10000px;
      top:auto;
      width:1px;
      height:1px;
      overflow:hidden;
    }

    .form-actions{
      display:flex;
      align-items:center;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 6px;
    }

    .btn-secondary{
      background: rgba(15, 23, 42, 0.06);
      color: #0f172a;
      border: 1px solid rgba(15, 23, 42, 0.10);
    }
    .btn-secondary:hover{
      background: rgba(15, 23, 42, 0.10);
    }

    #inqStatus{
      margin: 0;
      font-weight: 800;
      font-size: 12px;
    }

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr; }
      .portfolio{ grid-template-columns: 1fr; }
      .contact-grid{ grid-template-columns: 1fr; }
      nav{ display:none; }
    }
    @media (max-width: 760px){
      .form-row{ grid-template-columns: 1fr; }
      .modal-card{ margin: 4vh auto; }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <div class="container nav">
      <a class="brand" href="#top">
        <img src="assets/logo.png" alt="PalmWeb logo" />
        <div class="brand-title">
          <strong>PalmWeb</strong>
          <span>Websites ‚Ä¢ Automation ‚Ä¢ Consulting</span>
        </div>
      </a>

      <nav aria-label="Main">
        <a href="#services">Services</a>
        <a href="#work">Work</a>
        <a href="#contact">Contact</a>
        <a class="btn btn-primary" href="#" id="openInquiryNav">Start Inquiry</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <main id="top" class="hero">
    <div class="container hero-grid">
      <section>
        <h1>Websites that feel professional ‚Äî and are easy to manage.</h1>
        <p>
          PalmWeb helps locally owned businesses build a clean web presence and
          simplify admin work through practical automation.
        </p>

        <div class="hero-actions">
          <a class="btn btn-primary" href="#" id="openInquiryHero">Start an Inquiry</a>
          <a class="btn btn-outline" href="#work">View Work</a>
        </div>

        <p style="margin-top:14px; font-size:13px; color:#64748b; font-weight:650;">
          Based in Massachusetts ‚Ä¢ Serving local businesses
        </p>
      </section>

      <aside class="hero-card quick">
        <h3>Quick Contact</h3>
        <p>Send an inquiry and I‚Äôll respond with simple next steps.</p>

        <div class="quick-row">
          <span>Email</span>
          <a href="mailto:mason@palmweb.net">mason@palmweb.net</a>
        </div>

        <div class="quick-row">
          <span>Services</span>
          <span style="font-weight:950;">Web + Automation</span>
        </div>

        <div class="quick-row">
          <span>Response</span>
          <span style="font-weight:950;">Fast</span>
        </div>

        <div style="margin-top:12px;">
          <a class="btn btn-outline" href="#" id="openInquiryCard" style="width:100%;">Start Inquiry</a>
        </div>
      </aside>
    </div>
  </main>

  <!-- Services -->
  <section id="services">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Services</h2>
          <p>Simple offerings that help you look better online and run smoother behind the scenes.</p>
        </div>
      </div>

      <div class="grid">
        <div class="service">
          <div class="icon">üñ•Ô∏è</div>
          <h3>Website Build</h3>
          <p>Clean websites that work on phone and desktop ‚Äî designed for clarity and trust.</p>
        </div>

        <div class="service">
          <div class="icon">üåê</div>
          <h3>Domain Maintenance</h3>
          <p>DNS, renewals, email setup, and keeping your site online without headaches.</p>
        </div>

        <div class="service">
          <div class="icon">‚öôÔ∏è</div>
          <h3>Automation</h3>
          <p>Streamline invoices, forms, documents, and admin work to save time and reduce errors.</p>
        </div>

        <div class="service">
          <div class="icon">üìà</div>
          <h3>SEO & Visibility</h3>
          <p>Improve how you show up online ‚Äî the basics that make a real difference locally.</p>
        </div>

        <div class="service">
          <div class="icon">üßæ</div>
          <h3>Business Tools</h3>
          <p>Simple systems for organizing requests, scheduling, and customer follow-ups.</p>
        </div>

        <div class="service">
          <div class="icon">üí¨</div>
          <h3>Consulting</h3>
          <p>Practical advice on what to do next ‚Äî and what to avoid ‚Äî for your business.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Work -->
  <section id="work" style="background: var(--panel2); border-top:1px solid var(--border); border-bottom:1px solid var(--border);">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Recent Work</h2>
          <p>Examples of simple, effective websites built for real local businesses.</p>
        </div>
      </div>

      <div class="portfolio">
        <div class="work">
          <div class="tag">Fine Art</div>
          <div class="work-title">Bill Noble Fine Art</div>
          <div class="work-desc">Gallery-style site built to showcase artwork with clean navigation and contact info.</div>
          <a class="btn btn-outline" href="https://billnoblefineart.com" target="_blank" rel="noreferrer">
            Visit billnoblefineart.com
          </a>
        </div>

        <div class="work">
          <div class="tag">Real Estate</div>
          <div class="work-title">Missy Wagner Real Estate</div>
          <div class="work-desc">Clear contact options, mobile-friendly design, and quick listing access.</div>
          <a class="btn btn-outline" href="https://missywagnerre.com" target="_blank" rel="noreferrer">
            Visit missywagnerre.com
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Contact</h2>
          <p>Email me what you need ‚Äî I‚Äôll reply with a simple plan and next steps.</p>
        </div>
      </div>

      <div class="contact-grid">
        <div class="box">
          <h3>Get in touch</h3>
          <div class="line">Email: <a href="mailto:mason@palmweb.net">mason@palmweb.net</a></div>
          <div class="line">Website: <a href="https://palmweb.net" target="_blank" rel="noreferrer">palmweb.net</a></div>
          <div style="margin-top:14px;">
            <a class="btn btn-primary" href="#" id="openInquiryContact">Start an Inquiry</a>
          </div>
        </div>

        <div class="box">
          <h3>What to include</h3>
          <p style="margin:0; color:var(--muted); font-size:14px;">
            Include your business name, what you want your website to do, and any current domain or website details.
            If you want automation, tell me what task you repeat each week and what you'd like simplified.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container footer-inner">
      <img class="footer-logo" src="assets/logo.png" alt="PalmWeb" />
      <div>¬© <span id="year"></span> PalmWeb. All rights reserved.</div>
    </div>
  </footer>

  <!-- Inquiry Modal (mailto only - no backend) -->
  <div class="modal" id="inquiryModal" aria-hidden="true">
    <div class="modal-overlay" id="closeInquiry"></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-label="PalmWeb inquiry form">
      <div class="modal-head">
        <div>
          <h2>Start an Inquiry</h2>
          <p class="muted" style="margin:4px 0 0;">Quick form ‚Äî opens your email app with everything filled in.</p>
        </div>
        <button class="modal-x" id="closeInquiryBtn" aria-label="Close">‚úï</button>
      </div>

      <form id="inquiryForm" class="form-grid" novalidate>
        <!-- Honeypot (anti-spam) -->
        <input type="text" name="company_site" id="company_site" autocomplete="off" tabindex="-1" />

        <div class="form-row">
          <label>
            Your Name*
            <input type="text" name="name" id="inq_name" required placeholder="John Smith" />
            <span class="field-error" id="err_name"></span>
          </label>

          <label>
            Business Name
            <input type="text" name="business" id="inq_business" placeholder="Smith Plumbing" />
          </label>
        </div>

        <div class="form-row">
          <label>
            Email*
            <input type="email" name="email" id="inq_email" required placeholder="you@business.com" />
            <span class="field-error" id="err_email"></span>
          </label>

          <label>
            Phone
            <input type="tel" name="phone" id="inq_phone" placeholder="(401) 555-1234" />
          </label>
        </div>

        <div class="form-row">
          <label>
            What do you need?*
            <select name="service" id="inq_service" required>
              <option value="" selected disabled>Select one</option>
              <option>Website Build / Refresh</option>
              <option>Domain + Website Maintenance</option>
              <option>Automation (Scheduling, Forms, CRM, etc.)</option>
              <option>Consulting</option>
            </select>
            <span class="field-error" id="err_service"></span>
          </label>

          <label>
            Timeline
            <select name="timeline" id="inq_timeline">
              <option value="" selected disabled>Select one</option>
              <option>ASAP</option>
              <option>2‚Äì4 weeks</option>
              <option>1‚Äì2 months</option>
              <option>Just exploring</option>
            </select>
          </label>
        </div>

        <div class="form-row">
          <label>
            Budget Range
            <select name="budget" id="inq_budget">
              <option value="" selected disabled>Select one</option>
              <option>Under $1,000</option>
              <option>$1,000 ‚Äì $3,000</option>
              <option>$3,000 ‚Äì $7,000</option>
              <option>$7,000+</option>
            </select>
          </label>

          <label>
            Website (if you have one)
            <input type="url" name="current_site" id="inq_site" placeholder="https://..." />
          </label>
        </div>

        <label>
          Tell me what you‚Äôre trying to accomplish*
          <textarea name="message" id="inq_message" rows="6" required placeholder="A quick summary of your goals‚Ä¶"></textarea>
          <div class="textarea-meta">
            <span class="field-error" id="err_message"></span>
            <span class="char-count" id="charCount">0 / 800</span>
          </div>
        </label>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Open Email Draft</button>
          <button type="button" class="btn btn-secondary" id="copyInquiry">Copy Message</button>
          <p class="small" id="inqStatus" role="status" aria-live="polite"></p>
        </div>

        <p style="margin:0; font-size:12px; color:#64748b; font-weight:700;">
          Your info stays private ‚Äî this form does not submit to a server.
        </p>
      </form>
    </div>
  </div>

  <script>
    // footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // ===== Inquiry Modal (mailto-based) =====
    (function () {
      const modal = document.getElementById("inquiryModal");
      const closeOverlay = document.getElementById("closeInquiry");
      const closeBtn = document.getElementById("closeInquiryBtn");

      const openButtons = [
        "openInquiryNav",
        "openInquiryHero",
        "openInquiryCard",
        "openInquiryContact"
      ]
        .map(id => document.getElementById(id))
        .filter(Boolean);

      const form = document.getElementById("inquiryForm");
      const status = document.getElementById("inqStatus");

      const nameEl = document.getElementById("inq_name");
      const emailEl = document.getElementById("inq_email");
      const serviceEl = document.getElementById("inq_service");
      const messageEl = document.getElementById("inq_message");

      const errName = document.getElementById("err_name");
      const errEmail = document.getElementById("err_email");
      const errService = document.getElementById("err_service");
      const errMessage = document.getElementById("err_message");

      const charCount = document.getElementById("charCount");
      const copyBtn = document.getElementById("copyInquiry");

      const toEmail = "mason@palmweb.net";

      function showModal() {
        modal.classList.add("show");
        modal.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        setTimeout(() => nameEl.focus(), 120);
      }

      function hideModal() {
        modal.classList.remove("show");
        modal.setAttribute("aria-hidden", "true");
        document.body.style.overflow = "";
        status.textContent = "";
        clearErrors();
      }

      function clearErrors() {
        errName.textContent = "";
        errEmail.textContent = "";
        errService.textContent = "";
        errMessage.textContent = "";
      }

      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      function updateCharCount() {
        const max = 800;
        const len = (messageEl.value || "").length;
        charCount.textContent = `${len} / ${max}`;
        if (len > max) {
          errMessage.textContent = `Please keep your message under ${max} characters.`;
        } else if (errMessage.textContent.includes("under")) {
          errMessage.textContent = "";
        }
      }

      function buildEmailBody(data) {
        const lines = [
          "PalmWeb Inquiry",
          "-------------------------",
          `Name: ${data.name}`,
          `Business: ${data.business || "‚Äî"}`,
          `Email: ${data.email}`,
          `Phone: ${data.phone || "‚Äî"}`,
          `Service: ${data.service}`,
          `Timeline: ${data.timeline || "‚Äî"}`,
          `Budget: ${data.budget || "‚Äî"}`,
          `Website: ${data.site || "‚Äî"}`,
          "",
          "Message:",
          data.message,
          "",
          "-------------------------",
          "Sent from PalmWeb.net inquiry form"
        ];
        return lines.join("\n");
      }

      function openMailDraft(data) {
        const subject = encodeURIComponent(`PalmWeb Inquiry ‚Äî ${data.service}`);
        const body = encodeURIComponent(buildEmailBody(data));
        window.location.href = `mailto:${toEmail}?subject=${subject}&body=${body}`;
      }

      function collectData() {
        return {
          name: (document.getElementById("inq_name").value || "").trim(),
          business: (document.getElementById("inq_business").value || "").trim(),
          email: (document.getElementById("inq_email").value || "").trim(),
          phone: (document.getElementById("inq_phone").value || "").trim(),
          service: (document.getElementById("inq_service").value || "").trim(),
          timeline: (document.getElementById("inq_timeline").value || "").trim(),
          budget: (document.getElementById("inq_budget").value || "").trim(),
          site: (document.getElementById("inq_site").value || "").trim(),
          message: (document.getElementById("inq_message").value || "").trim(),
          honeypot: (document.getElementById("company_site").value || "").trim()
        };
      }

      function validate(data) {
        clearErrors();

        let ok = true;

        if (!data.name) {
          errName.textContent = "Please enter your name.";
          ok = false;
        }

        if (!data.email || !isValidEmail(data.email)) {
          errEmail.textContent = "Please enter a valid email address.";
          ok = false;
        }

        if (!data.service) {
          errService.textContent = "Please choose a service.";
          ok = false;
        }

        if (!data.message) {
          errMessage.textContent = "Please enter a brief message.";
          ok = false;
        }

        if (data.message.length > 800) {
          errMessage.textContent = "Please keep your message under 800 characters.";
          ok = false;
        }

        // honeypot triggered (bots)
        if (data.honeypot) ok = false;

        return ok;
      }

      async function copyToClipboard(text) {
        try {
          await navigator.clipboard.writeText(text);
          status.textContent = "Copied! If your email app doesn‚Äôt open, paste this into an email to mason@palmweb.net.";
          status.style.color = "#0f172a";
        } catch {
          status.textContent = "Copy failed. Please manually copy your message.";
          status.style.color = "#b91c1c";
        }
      }

      // open button handlers
      openButtons.forEach(btn => {
        btn.addEventListener("click", (e) => {
          e.preventDefault();
          showModal();
        });
      });

      // close handlers
      closeOverlay.addEventListener("click", hideModal);
      closeBtn.addEventListener("click", hideModal);

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && modal.classList.contains("show")) hideModal();
      });

      // live char count
      messageEl.addEventListener("input", updateCharCount);
      updateCharCount();

      // copy button
      copyBtn.addEventListener("click", () => {
        const data = collectData();
        if (!validate(data)) {
          status.textContent = "Please fix the highlighted fields before copying.";
          status.style.color = "#b91c1c";
          return;
        }
        copyToClipboard(buildEmailBody(data));
      });

      // submit handler
      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const data = collectData();
        if (!validate(data)) {
          status.textContent = "Please fix the highlighted fields.";
          status.style.color = "#b91c1c";
          return;
        }

        status.textContent = "Opening your email draft‚Ä¶";
        status.style.color = "#0f172a";

        openMailDraft(data);

        // close after a moment
        setTimeout(() => hideModal(), 700);
      });
    })();
  </script>
</body>
</html>
