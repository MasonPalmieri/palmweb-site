<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Demo Login • FSS</title>

  <link rel="stylesheet" href="assets/app.css" />

  <style>
    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px 18px 60px;
    }

    .card{
      max-width: 520px;
      margin: 40px auto 0;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 22px;
      box-shadow: 0 24px 70px rgba(0,0,0,.35);
      padding: 18px;
    }

    .title{
      display:flex;
      align-items:center;
      gap: 12px;
      margin-bottom: 10px;
    }
    .badge{
      width: 44px;
      height: 44px;
      border-radius: 16px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.12);
      font-weight: 950;
      color: rgba(255,255,255,.92);
      font-size: 14px;
    }
    h1{
      margin:0;
      font-size: 16px;
      font-weight: 950;
    }
    p{
      margin: 6px 0 0;
      color: rgba(255,255,255,.70);
      font-size: 13px;
      font-weight: 750;
      line-height: 1.45;
    }

    label{
      display:block;
      margin-top: 12px;
      font-size: 13px;
      font-weight: 900;
      color: rgba(255,255,255,.90);
    }

    input{
      width: 100%;
      padding: 12px 12px;
      margin-top: 6px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.92);
      outline:none;
      font-weight: 750;
    }

    input:focus{
      border-color: rgba(96,255,157,.50);
      box-shadow: 0 0 0 4px rgba(96,255,157,.12);
    }

    .btn-row{
      display:flex;
      gap: 10px;
      margin-top: 14px;
      flex-wrap:wrap;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 12px 16px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      cursor:pointer;
      font-weight: 950;
      font-size: 14px;
      user-select:none;
    }

    .btn-primary{
      border: 0;
      background: linear-gradient(135deg, rgba(67,203,255,.9), rgba(96,255,157,.9));
      color: #051016;
      flex: 1 1 auto;
    }
    .btn-primary:hover{
      filter: brightness(1.03);
    }

    .btn-outline{
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.92);
    }

    .status{
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      font-weight: 850;
      font-size: 13px;
      color: rgba(255,255,255,.84);
      display:none;
    }
    .status.good{
      display:block;
      border-color: rgba(96,255,157,.30);
      background: rgba(96,255,157,.08);
    }
    .status.bad{
      display:block;
      border-color: rgba(255,79,99,.30);
      background: rgba(255,79,99,.08);
    }

    .tiny{
      margin-top: 12px;
      font-size: 12px;
      font-weight: 750;
      color: rgba(255,255,255,.60);
      line-height: 1.45;
    }
    .tiny code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 10px;
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.85);
    }
  </style>
</head>

<body class="app">
  <main class="wrap">
    <div class="card">
      <div class="title">
        <div class="badge">FSS</div>
        <div>
          <h1>Client Demo Login</h1>
          <p>Use demo credentials to enter the Fill → Sign → Send workflow.</p>
        </div>
      </div>

      <form id="loginForm" autocomplete="off">
        <label>Email</label>
        <input id="email" type="email" value="demo@client.com" required />

        <label>Password</label>
        <input id="password" type="password" placeholder="Enter password" required />

        <div class="btn-row">
          <button class="btn btn-primary" id="loginBtn" type="submit">Login</button>
          <button class="btn btn-outline" id="resetBtn" type="button">Reset demo</button>
        </div>
      </form>

      <div class="status" id="statusBox"></div>

      <div class="tiny">
        Demo login: <code>demo@client.com</code><br/>
        Password: <code>hallam</code>
      </div>
    </div>
  </main>

  <script src="assets/app.js"></script>
  <script>
    const statusBox = document.getElementById("statusBox");

    function setStatus(type, msg){
      statusBox.className = "status " + type;
      statusBox.textContent = msg;
    }

    // IMPORTANT: prevent page reload so click works
    document.getElementById("loginForm").addEventListener("submit", (e) => {
      e.preventDefault();

      // If app.js did not load, FSS will be undefined
      if(typeof FSS === "undefined"){
        setStatus("bad", "app.js did not load. Check that assets/app.js is real JavaScript (not CSS) and not 404.");
        return;
      }

      const email = document.getElementById("email").value;
      const pass = document.getElementById("password").value;

      const ok = FSS.login(email, pass);

      if(ok){
        setStatus("good", "✅ Login successful. Loading dashboard…");
        setTimeout(() => location.href = "dashboard.html", 500);
      } else {
        setStatus("bad", "Incorrect credentials. Try demo@client.com / hallam");
      }
    });

    document.getElementById("resetBtn").addEventListener("click", () => {
      if(typeof FSS === "undefined"){
        setStatus("bad", "app.js did not load. Fix assets/app.js first.");
        return;
      }
      if(!confirm("Reset demo state? This clears current document + signatures.")) return;
      FSS.resetDoc();
      setStatus("good", "✅ Demo reset complete.");
    });
  </script>
</body>
</html>
